package org.bjb;import java.awt.*;import java.awt.event.*;import javax.swing.*;public class ChartViewer extends JWindow implements AWTEventListener {	ImageIcon ico = null;		public ChartViewer(Strategy s) {		super();	}			public ChartViewer(ImageIcon ico) {		super();		setIcon(ico);	}	private void setIcon(ImageIcon ico) {		this.ico = ico;		Dimension d = new Dimension(ico.getIconWidth(),ico.getIconHeight());		setSize(d);		setMinimumSize(d);		setMaximumSize(d);		final ChartViewer cv = this;		SwingUtilities.invokeLater(new Runnable() {			public void run() {		        Toolkit.getDefaultToolkit().addAWTEventListener(cv, AWTEvent.MOUSE_EVENT_MASK);			}		});	}		    public void eventDispatched(final AWTEvent ae) {    	if (ae.getID() == MouseEvent.MOUSE_CLICKED) {    		final ChartViewer cv = this;			SwingUtilities.invokeLater(new Runnable() {				public void run() {					if (ae.getSource() instanceof JButton) 						if (((JButton)ae.getSource()).getText().equals("Chart")) return;					Toolkit.getDefaultToolkit().removeAWTEventListener(cv);					setVisible(false);				}			});        }    }	public void paint(Graphics g) {		super.paint(g);		ico.paintIcon(this,g,0,0);	}		}